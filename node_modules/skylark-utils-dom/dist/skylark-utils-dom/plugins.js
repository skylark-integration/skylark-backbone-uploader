/**
 * skylark-utils-dom - An Elegant HTML5 DOM utility Library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./dom","./langx","./noder","./datax","./eventer","./finder","./geom","./styler","./fx","./query","./elmx"],function(t,i,n,r,e,o,s,a,u,l,p){"use strict";var c=Array.prototype.slice,f=(Array.prototype.concat,{}),h={};function v(t,i,n){var e=i.split(":"),o=e[1];i=e[0],o||(o=i);var s=r.data(t,o);if("instance"===n)return s;if("destroy"===n){if(!s)throw new Error("The plugin instance is not existed");s.destroy(),r.removeData(t,i),s=void 0}else if(s)n&&s.reset(n);else{if(void 0!==n&&"object"!=typeof n)throw new Error("The options must be a plain object");s=new(0,f[i])(t,n),r.data(t,o,s)}return s}var d=i.Evented.inherit({klassName:"Plugin",_construct:function(t,i){this._elm=t,this._initOptions(i)},_initOptions:function(t){var n=this.constructor,r=n.cache=n.cache||{},e=r.defaults;if(!e){var o=[];do{if(o.unshift(n),n===d)break;n=n.superclass}while(n);e=r.defaults={};for(var s=0;s<o.length;s++)(n=o[s]).prototype.hasOwnProperty("options")&&i.mixin(e,n.prototype.options),n.hasOwnProperty("options")&&i.mixin(e,n.options)}return Object.defineProperty(this,"options",{value:i.mixin({},e,t)}),this.options},destroy:function(){this._destroy(),r.removeData(this._elm,this.pluginName)},_destroy:i.noop,_delay:function(t,i){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},i||0)},option:function(t,n){var r,e,o,s=t;if(0===arguments.length)return i.mixin({},this.options);if("string"==typeof t)if(s={},t=(r=t.split(".")).shift(),r.length){for(e=s[t]=i.mixin({},this.options[t]),o=0;o<r.length-1;o++)e[r[o]]=e[r[o]]||{},e=e[r[o]];if(t=r.pop(),1===arguments.length)return void 0===e[t]?null:e[t];e[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(t){var i;for(i in t)this._setOption(i,t[i]);return this},_setOption:function(t,i){return this.options[t]=i,this}});function y(){return y}return l.fn.plugin=function(t,i){var n=c.call(arguments,1),r=this,e=this;return this.each(function(){e=v.apply(r,[this,t].concat(n))}),e},p.partial("plugin",function(t,i){var n=c.call(arguments,1);return v.apply(this,[this.domNode,t].concat(n))}),i.mixin(y,{instantiate:v,Plugin:d,register:function(t,n,r,e){var o=t.prototype.pluginName;if(f[o]=t,n){r&&i.isFunction(r)&&(e=r,r=null),r&&(o=o+":"+r);var s=h[n]=function(t,n){return function(r,e){var o=v(r,t,"instance");if("instance"===e)return o||null;if(o||(o=v(r,t,"object"==typeof e&&e||{})),e){var s=c.call(arguments,2);if(n)return n.apply(o,s);if("string"==typeof e){var a=e;if(!o)throw new Error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'");if(!i.isFunction(o[a])||"_"===a.charAt(0))throw new Error("no such method '"+a+"' for "+t+" plugin instance");return o[a].apply(o,s)}}}}(o,e);l.fn[n]=function(t){var i=this;if(this.length||"instance"!==t){var n=c.call(arguments);this.each(function(){var t=c.call(n);t.unshift(this);var r=s.apply(null,t);if(void 0!==r)return i=r,!1})}else i=void 0;return i},p.partial(n,function(t){var i=s(this._elm,t);return void 0===i&&(i=this),i})}},shortcuts:h}),y});
//# sourceMappingURL=sourcemaps/plugins.js.map
